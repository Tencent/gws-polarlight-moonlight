import{r as f,j as D,o as i,c as d,a as t,t as C,p,h as ee,k as O,s as M,n as R,F as Q,b as K,l as G,x as T,f as S,g as s,w as W,e as le,i as te}from"./style-NAze0Dqi.js";import{T as oe}from"./TitleBar-Tds8gBbC.js";const se=""+new URL("../images/link.png",import.meta.url).href,ae=""+new URL("../images/link_off.png",import.meta.url).href,ne=""+new URL("../images/gws.png",import.meta.url).href,ie={class:"about_wrapper"},de={class:"content_box"},ue=t("div",{class:"logo_wrapper"},[t("div",{class:"logo_box"},[t("img",{src:ne,alt:""})])],-1),re=t("div",{class:"title"}," Remote Graphic Workstation ",-1),ce={key:0,class:"version"},pe={class:"link_box"},me=t("footer",null," @2024 Tencent America LLC or its affiliates. All trademarks are the property of their respective owners. All rights reserved. ",-1),ve={__name:"About",setup(w){const y=u=>{openUrl(u)},_=f(""),m=async()=>{try{const u=await getVersion();_.value=u||""}catch(u){console.log(u)}};return D(()=>{m()}),(u,v)=>(i(),d("div",ie,[t("div",de,[ue,re,_.value?(i(),d("div",ce," Version "+C(_.value),1)):p("",!0),t("div",pe,[t("span",{onClick:v[0]||(v[0]=x=>y("https://www.cloudstudio.games/terms"))},"Terms of Service"),t("span",{onClick:v[1]||(v[1]=x=>y("https://www.cloudstudio.games/privacy-policy"))},"Privacy Policy"),t("span",{onClick:v[2]||(v[2]=x=>y("https://www.cloudstudio.games/gws-licences"))},"Openâ€‘Source Software Credits & Licence Summary ")]),me])]))}},be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAaCAYAAAC6nQw6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEQSURBVHgB3ZIxTgMxEEXHY8dro4iKnILkBNyAKiWXoOQkXIKSLlyALl3SoL0AVSSKrBcb29hISCyxYmeTIslrPNJonsb2J3VdV6vV15BSJNADzoWVUjdMKX5BqesliWjdUqXcEGMBexJvg3AgTlDkHFxCAZiVmPbZKfUIGVhOAt5PgMAkyAClvIddNupIfiFwt22z5EbOqJsQrlkYnnUaIbbG6PFgwJf/Z8h8/nYFB+CMA5l8bKvaW0R/nex5eGFCLopEFPHVefsQynGnQcgTE2KRmklfreIfSOg0VMu/EqzEboHckGUkEbat+SP71NN4Qob8rxVIykSFHKHIWudhT7Q2DpvmfR0L6ElcZDSq1t9v2G3D5r0kBwAAAABJRU5ErkJggg==",ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADISURBVHgB7dLNDcIgFMDxRyuJR0dghHLszY7QDdzIEXQDR+BkOOIIjOC9UnyYaCqiVuAm/6TfyfulLQClUmpKqJUUivn3K8iUAwZKRIWbD2VB7gCeNkBwv3x+TiCxKWAJ6LGyXdtynQ2ZAyQhc4Fo5BcgiByFaiglWzrYnnf8nAq4XlYXAjs8rN0gNzAVCCKmtj2+n3aDplAs4Ar+EykVq0ccaIHh5cngp6spOcQAb5EAdCsG+Ij4UCzwFXlAF9ibBWxigNIfdwUl1pdoYIoB/AAAAABJRU5ErkJggg==",fe={class:"select_box"},he=t("img",{src:be,alt:""},null,-1),ye=["onClick"],Ae={style:{display:"flex","align-items":"center",gap:"6px"}},we={class:"check_icon"},_e={key:0,src:ge,alt:""},Ve={key:0,style:{"font-size":"12px",color:"#938F99","padding-left":"32px","line-height":"18px"}},k={__name:"MySelect1",props:{options:{type:Array,default:()=>[]},position:{type:String,default:"bottom"},modelValue:String,width:{type:Number,default:200},nameWidth:{type:Number,default:100},disabled:{type:Boolean,default:!1}},setup(w,{emit:y}){const _=y,m=w,u=f(!1),v=f(null),x=ee(()=>{const c=m.options.find(b=>b.id==m.modelValue);return(c==null?void 0:c.label)||m.modelValue});function r(c){}function U(c,b){c.stopPropagation(),b.id!==m.modelValue&&(_("update:modelValue",b.id),u.value=!1)}function V(c){c.target.parentNode===v.value?u.value=!u.value:u.value=!1}return D(()=>{document.addEventListener("click",V)}),O(()=>{document.removeEventListener("click",V)}),(c,b)=>(i(),d("div",fe,[t("div",{class:R(["select_head",{disabled:w.disabled}]),ref_key:"nodeRef",ref:v,onClick:r},[t("div",{class:"value",style:M({width:`${w.nameWidth}px`})},C(x.value),5),he],2),u.value&&!w.disabled?(i(),d("ul",{key:0,class:R(`select_list_box list_box  ${m.position}`),style:M({width:`${w.width}px`})},[(i(!0),d(Q,null,K(m.options,g=>(i(),d("li",{key:g,class:R({select:m.modelValue===g.id}),onClick:l=>U(l,g)},[t("div",null,[t("div",Ae,[t("div",we,[m.modelValue===g.id?(i(),d("img",_e)):p("",!0)]),G(" "+C(g.label),1)]),g.desc?(i(),d("div",Ve,C(g.desc),1)):p("",!0)])],10,ye))),128))],6)):p("",!0)]))}},ke={class:"main_warper"},xe={class:"tab-wrapper"},Ce={class:"tab-box"},Be=["onClick"],Fe={class:"tab-title"},Ue={key:0},Se={key:0,class:"card",style:{"margin-bottom":"20px","padding-bottom":"0"}},Re={class:"row py14"},$e=t("div",{style:{flex:"2","margin-right":"30px"}},[t("div",{class:"label",style:{"margin-bottom":"4px"}},"Resolution and FPS"),t("div",{class:"desc",style:{"font-size":"12px","line-height":"16px"}}," Setting values too high for your PC or network connection may cause lag, stuttering, or errors. ")],-1),De={style:{position:"relative",flex:"3"}},Ee={style:{display:"flex",gap:"16px","align-items":"center",border:"1px solid #49454F",padding:"0 12px","border-radius":"4px","margin-bottom":"8px"}},Ne=t("div",{style:{"min-width":"60px"}},"Client-1:",-1),Ie={style:{position:"absolute",top:"50%",left:"28px",transform:"translateY(-50%)","z-index":"10","background-color":"#2B2930"}},Le={style:{display:"flex",gap:"16px","align-items":"center",border:"1px solid #49454F",padding:"0 12px","border-radius":"4px"}},Pe=t("div",{style:{"min-width":"60px"}},"Client-2:",-1),Me={class:"row py14"},Te=t("div",{style:{"margin-right":"30px",flex:"2","min-width":"200px"}},[t("div",{class:"label",style:{width:"460px","margin-bottom":"4px"}},"Video Bitrate "),t("div",{class:"desc",style:{"font-size":"12px","margin-bottom":"6px","line-height":"16px"}}," Lower the bitrate on slower connections. Raise the bitrate to increase image quality. ")],-1),We={style:{display:"flex","align-items":"center","justify-content":"space-between",flex:"3"}},Oe=t("div",{style:{width:"56px","font-size":"14px",color:"rgb(202, 196, 208)","text-align":"right"}}," Mbps ",-1),Qe={class:"card",style:{"padding-top":"16px"}},Ke=t("br",null,null,-1),Ge={key:1},He={class:"card",style:{"margin-bottom":"12px","padding-bottom":"0"}},Ye={class:"row noBorder"},ze=t("div",{class:"label",style:{width:"200px"}},"Audio configuration",-1),Xe={class:"card",style:{padding:"16px"}},Je=t("br",null,null,-1),qe={key:2,class:"card",style:{"padding-top":"16px"}},je=t("br",null,null,-1),Ze={key:3},el={class:"card",style:{"margin-bottom":"20px","padding-bottom":"0"}},ll={class:"row noBorder"},tl=t("label",{class:"label",style:{width:"400px"}},"Capture system keyboard shortcuts",-1),ol={class:"card",style:{"padding-top":"16px"}},sl=t("br",null,null,-1),al=t("br",null,null,-1),nl=t("br",null,null,-1),il=t("br",null,null,-1),dl={key:4,class:"card",style:{"padding-top":"16px"}},ul=t("br",null,null,-1),rl=t("br",null,null,-1),cl=t("br",null,null,-1),pl={key:5},ml={class:"card",style:{"margin-bottom":"20px","padding-bottom":"0"}},vl={class:"row noBorder"},bl=t("label",{class:"label",style:{width:"140px"}},"Video codec",-1),gl={class:"card",style:{"padding-top":"26px",display:"flex","justify-content":"space-between","align-items":"center"}},fl={key:6},hl={class:"apply_box"},yl={key:0,class:"successfully_box"},Al=t("div",{class:"content"},[t("div",{class:"tip"}," Configuration applied successfully. Relaunch client is required for the changes to take effect.")],-1),wl={__name:"App",setup(w){const y=["Basic","Audio","UI","Input","Gamepad","Advanced","About"];function _(){return/Mac|iPod|iPhone|iPad/.test(navigator.userAgent)}const m=[{id:0,label:"Automatic (Recommended)"},{id:1,label:"H.264"},{id:2,label:"HEVC (H.265)"},{id:3,label:"HEVC_HDR (H.265)",desc:"both the host and client monitors need to support and enable HDR mode."}],u=[{id:0,label:"Stereo"},{id:1,label:"5.1 surround sound"},{id:2,label:"7.1 surround sound"}],v=[{id:"1920x1080",label:"1080P"},{id:"2560x1440",label:"2K"},{id:"3840x2160",label:"4K"},{id:"0x0",label:"Match Host"}],x=[{id:0,label:"off"},{id:2,label:"on"}],r=f(y[0]),U=f(null),V=f(!1),c=f([{id:30,label:"30 FPS"},{id:60,label:"60 FPS"},{id:120,label:"120 FPS"}]),b=f(100),g=f({}),l=f({windowmode:0,bitrate:30,fps:30,fps2:30,abstouchmode:!0,audiocfg:1,backgroundgamepad:!1,capturesyskeys:0,connwarnings:!1,framepacing:!1,gameopts:!1,gamepadmouse:!1,hostaudio:!0,keepawake:!0,mouseacceleration:!1,multicontroller:!0,muteonfocusloss:!1,quitAppAfter:!1,reversescroll:!1,swapfacebuttons:!1,swapmousebuttons:!1,unsupportedfps:!1,videocfg:1,vsync:!0,height:1440,height2:1440,width:2560,width2:2560,client1Rate:"2560x1440",client2Rate:"2560x1440",whlink:!0,debuglog:!1}),H=n=>n>b.value?`The bitrate is limited to a maximum of ${b.value} Mbps.`:`${n} Mbps`;T(()=>l.value.vsync,()=>{l.value.vsync||(l.value.framepacing=!1)}),T(()=>[l.value.client1Rate,l.value.fps,l.value.whlink],()=>{l.value.whlink&&(l.value.client2Rate=l.value.client1Rate,l.value.fps2=l.value.fps)});const Y=n=>{n>b.value&&setTimeout(()=>{l.value.bitrate=b.value},500)};function z(){OpenLogDirectory()}function X(){UploadLog()}const E=(n=100)=>{const e={};for(let h=1;h<=n/10;h++){const a=h*10,A=n;console.log(a,A),e[a]={label:a===A&&n!==100?`Max ${n}`:a,style:{fontSize:"12px",color:"#938F99"}}}g.value=e};function N(n){try{const e=typeof n=="string"?JSON.parse(n):n;b.value=(e==null?void 0:e.bitratelimit)||100;const h=Number((e==null?void 0:e.bitratelimit)||100);c.value=((e==null?void 0:e.fpsitem)||"30,60,120").split(",").map(F=>({id:Number(F),label:`${F} FPS`}));const{width:a,width2:A,height:B,height2:o}=e;l.value={...e,bitrate:e.bitrate/1e3,client1Rate:`${a}x${B}`,client2Rate:`${A}x${o}`},E(h)}catch(e){console.error(e)}}const I=(n="Get")=>{QuerySetting(n).then(e=>{N(e)})},$=()=>{I(),CloseWindow()},L=n=>{if(n.code==="Escape"&&n.code==="Escape"){if(V.value)return;$()}};D(()=>{E(100),I(),window.addEventListener("keydown",L),window.CallFunc=N}),O(()=>{U.value&&clearTimeout(U.value),window.removeEventListener("keydown",L)});const J=n=>{r.value=n},P=()=>{$()},q=()=>{V.value=!1,setTimeout(()=>{P()},300)},j=async()=>{const n=JSON.parse(JSON.stringify(l.value)),{client1Rate:e,client2Rate:h,bitrate:a}=n,[A,B]=e.split("x"),[o,F]=h.split("x");V.value=!0,ApplySetting({...n,width:Number(A),height:Number(B),width2:Number(o),height2:Number(F),bitrate:a*1e3}).then(Z=>{console.log(Z)})};return(n,e)=>{const h=S("el-slider"),a=S("el-checkbox"),A=S("session"),B=S("el-button");return i(),d("div",ke,[s(oe,{title:"SETTINGS",onClose:$}),t("div",xe,[t("div",Ce,[(i(),d(Q,null,K(y,o=>t("div",{key:o,onClick:F=>J(o),class:R(`tab ${o===r.value?"active":""}`)},C(o),11,Be)),64))]),s(A,{class:"tab-content"},{default:W(()=>[t("div",Fe,C(r.value.toLocaleUpperCase()),1),r.value==="Basic"?(i(),d("div",Ue,[r.value==="Basic"?(i(),d("div",Se,[t("div",Re,[$e,t("div",De,[t("div",Ee,[Ne,s(k,{modelValue:l.value.client1Rate,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.client1Rate=o),options:v,width:"160",nameWidth:"90"},null,8,["modelValue"]),s(k,{modelValue:l.value.fps,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.fps=o),options:c.value,nameWidth:"50",width:"124"},null,8,["modelValue","options"])]),t("div",Ie,[l.value.whlink?(i(),d("img",{key:0,src:se,alt:"",class:"link",onClick:e[2]||(e[2]=o=>l.value.whlink=!1)})):(i(),d("img",{key:1,src:ae,alt:"",class:"link",onClick:e[3]||(e[3]=o=>l.value.whlink=!0)}))]),t("div",Le,[Pe,s(k,{modelValue:l.value.client2Rate,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.client2Rate=o),options:v,width:"160",nameWidth:"90",disabled:l.value.whlink},null,8,["modelValue","disabled"]),s(k,{modelValue:l.value.fps2,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.fps2=o),options:c.value,nameWidth:"50",width:"124",disabled:l.value.whlink},null,8,["modelValue","options","disabled"])])])]),t("div",Me,[Te,t("div",We,[s(h,{placement:"top-end","format-tooltip":H,style:{flex:"1"},modelValue:l.value.bitrate,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.bitrate=o),"show-stops":"",step:10,max:100,min:10,onChange:Y,marks:g.value},null,8,["modelValue","marks"]),Oe])])])):p("",!0),t("div",Qe,[s(a,{label:"V-Sync",modelValue:l.value.vsync,"onUpdate:modelValue":e[7]||(e[7]=o=>l.value.vsync=o),fill:"#D0BCFF"},null,8,["modelValue"]),Ke,s(a,{disabled:!l.value.vsync,label:"Frame pacing",modelValue:l.value.framepacing,"onUpdate:modelValue":e[8]||(e[8]=o=>l.value.framepacing=o),fill:"#D0BCFF"},null,8,["disabled","modelValue"])])])):p("",!0),r.value==="Audio"?(i(),d("div",Ge,[t("div",He,[t("div",Ye,[ze,s(k,{modelValue:l.value.audiocfg,"onUpdate:modelValue":e[9]||(e[9]=o=>l.value.audiocfg=o),options:u,nameWidth:150,width:220},null,8,["modelValue"])])]),t("div",Xe,[s(a,{label:"Mute host PC speakers while streaming",modelValue:l.value.hostaudio,"onUpdate:modelValue":e[10]||(e[10]=o=>l.value.hostaudio=o),fill:"#D0BCFF"},null,8,["modelValue"]),Je,s(a,{label:"Mute audio stream when Gleam is not the active window",modelValue:l.value.muteonfocusloss,"onUpdate:modelValue":e[11]||(e[11]=o=>l.value.muteonfocusloss=o),fill:"#D0BCFF"},null,8,["modelValue"])])])):p("",!0),r.value==="UI"?(i(),d("div",qe,[s(a,{label:"Show connection quality warnings",modelValue:l.value.connwarnings,"onUpdate:modelValue":e[12]||(e[12]=o=>l.value.connwarnings=o),fill:"#D0BCFF"},null,8,["modelValue"]),je,s(a,{label:"Keep the display awake while streaming",modelValue:l.value.keepawake,"onUpdate:modelValue":e[13]||(e[13]=o=>l.value.keepawake=o),fill:"#D0BCFF"},null,8,["modelValue"])])):p("",!0),r.value==="Input"?(i(),d("div",Ze,[t("div",el,[t("div",ll,[tl,s(k,{modelValue:l.value.capturesyskeys,"onUpdate:modelValue":e[14]||(e[14]=o=>l.value.capturesyskeys=o),options:x},null,8,["modelValue"])])]),t("div",ol,[s(a,{label:"Optimize mouse for remote desktop instead of games",modelValue:l.value.mouseacceleration,"onUpdate:modelValue":e[15]||(e[15]=o=>l.value.mouseacceleration=o),fill:"#D0BCFF"},null,8,["modelValue"]),sl,s(a,{label:"Use touchscreen as a virtual trackpad",modelValue:l.value.abstouchmode,"onUpdate:modelValue":e[16]||(e[16]=o=>l.value.abstouchmode=o),fill:"#D0BCFF"},null,8,["modelValue"]),al,s(a,{label:"Swap left and right mouse buttons",modelValue:l.value.swapmousebuttons,"onUpdate:modelValue":e[17]||(e[17]=o=>l.value.swapmousebuttons=o),fill:"#D0BCFF"},null,8,["modelValue"]),nl,s(a,{label:"Reverse mouse scrolling direction",modelValue:l.value.reversescroll,"onUpdate:modelValue":e[18]||(e[18]=o=>l.value.reversescroll=o),fill:"#D0BCFF"},null,8,["modelValue"]),il,s(a,{label:`Enable omitting the ${_()?"Option":"Alt"} key in shortcut keys`,modelValue:l.value.omitalt,"onUpdate:modelValue":e[19]||(e[19]=o=>l.value.omitalt=o),fill:"#D0BCFF"},null,8,["label","modelValue"])])])):p("",!0),r.value==="Gamepad"?(i(),d("div",dl,[s(a,{label:"Swap A/B and X/Y gamepad buttons",modelValue:l.value.swapfacebuttons,"onUpdate:modelValue":e[20]||(e[20]=o=>l.value.swapfacebuttons=o),fill:"#D0BCFF"},null,8,["modelValue"]),ul,s(a,{label:"Force gamepad #1 always connected",modelValue:l.value.multicontroller,"onUpdate:modelValue":e[21]||(e[21]=o=>l.value.multicontroller=o),fill:"#D0BCFF"},null,8,["modelValue"]),rl,s(a,{label:"Enable mouse control with gamepads by holding the 'Start' button",modelValue:l.value.gamepadmouse,"onUpdate:modelValue":e[22]||(e[22]=o=>l.value.gamepadmouse=o),fill:"#D0BCFF"},null,8,["modelValue"]),cl,s(a,{label:"Process gamepad input when Gleam is in the background",modelValue:l.value.backgroundgamepad,"onUpdate:modelValue":e[23]||(e[23]=o=>l.value.backgroundgamepad=o),fill:"#D0BCFF"},null,8,["modelValue"])])):p("",!0),r.value==="Advanced"?(i(),d("div",pl,[t("div",ml,[t("div",vl,[bl,s(k,{modelValue:l.value.videocfg,"onUpdate:modelValue":e[24]||(e[24]=o=>l.value.videocfg=o),options:m,width:300,nameWidth:230},null,8,["modelValue"])])]),t("div",gl,[s(a,{label:"Write debug log",modelValue:l.value.debuglog,"onUpdate:modelValue":e[25]||(e[25]=o=>l.value.debuglog=o),fill:"#D0BCFF"},null,8,["modelValue"]),t("div",{style:{display:"flex",gap:"10px","padding-bottom":"10px"}},[t("button",{class:"btn",onClick:z},"Open log directory"),t("button",{class:"btn",onClick:X},"Upload log")])])])):p("",!0),r.value==="About"?(i(),d("div",fl,[s(ve)])):p("",!0)]),_:1})]),t("div",hl,[t("button",{class:"btn outlined",onClick:P},"Cancel"),s(B,{style:{height:"30px"},type:"primary",color:"#D0BCFF",onClick:j},{default:W(()=>[G("Apply")]),_:1})]),V.value?(i(),d("div",yl,[t("div",{class:"main-wrapper"},[Al,t("div",{class:"btn_box"},[t("button",{class:"btn",onClick:q},"OK")])])])):p("",!0)])}}};le(wl).use(te).mount("#app");
